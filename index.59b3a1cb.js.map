{"mappings":"C,A,WIAO,SAAS,EAAqB,CAAG,CAAE,CAAG,EACrC,CAAA,AAAO,MAAP,GAAe,EAAM,EAAI,MAAM,AAAN,GAAQ,CAAA,EAAM,EAAI,MAAM,AAAN,EAE/C,IAAK,IAAI,EAAI,EAAG,EAAO,AAAI,MAAM,GAAM,EAAI,EAAK,IAAK,CAAI,CAAC,EAAE,CAAG,CAAG,CAAC,EAAE,CAErE,OAAO,CACX,CFDO,SAAS,EAAqB,CAAG,EACpC,OAAO,ACJJ,SAA8B,CAAG,EACpC,GAAI,MAAM,OAAO,CAAC,GAAM,OAAO,AAAA,EAAqB,EACxD,EDEgC,IAAQ,AGNjC,SAA4B,CAAI,EACnC,GAAI,AAAkB,aAAlB,OAAO,QAA0B,AAAyB,MAAzB,CAAI,CAAC,OAAO,QAAQ,CAAC,EAAY,AAAsB,MAAtB,CAAI,CAAC,aAAa,CACpF,OAAO,MAAM,IAAI,CAAC,EAE1B,EHE2D,IAAQ,AKJ5D,SAAwC,CAAC,CAAE,CAAM,EACpD,GAAK,GACL,GAAI,AAAa,UAAb,OAAO,EAAgB,OAAO,AAAA,EAAqB,EAFT,KAAA,GAI9C,IAAI,EAAI,OAAO,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC,EAAG,IAGnD,GADU,WAAN,GAAkB,EAAE,WAAW,EAAE,CAAA,EAAI,EAAE,WAAW,CAAC,IAAI,AAAJ,EACnD,AAAM,QAAN,GAAe,AAAM,QAAN,EAAa,OAAO,MAAM,IAAI,CAAC,GAClD,GAAI,AAAM,cAAN,GAAqB,2CAA2C,IAAI,CAAC,GAAI,OAAO,AAAA,EAAqB,EAR3D,KAAA,GASlD,ELLkG,IAAQ,AINnG,WACH,MAAM,AAAI,UAAU,uIACxB,GJKA,CDLA,IAAM,EAAO,GODN,CAAA,eEUoC,EFV9B,SAAA,IACC,IAAA,EAAA,UAAA,MAAA,CAAA,GAAA,AAAA,KAAA,IAAA,SAAA,CAAA,EAAA,CAAA,SAAA,CAAA,EAAA,CAAO,E,E,I,EADR,ACDG,SAAT,CAAA,CAAA,CAAA,EACH,GAAI,CAAE,CAAA,aAAoB,CAAA,EAAc,MAAM,AAAI,UAAU,oCAChE,EDDa,IAAA,CAAA,GAET,IAAI,CAAC,IAAI,CAAG,EACZ,IAAI,CAAC,KAAK,CAAG,EAEb,IAAI,CAAC,SAAS,CAAG,MAAM,IAAI,CAAC,CAAE,OAAQ,IAAI,CAAC,IAAI,AAAC,EAAG,WACjD,OAAA,MAAM,EAAK,IAAI,EAAE,IAAI,CAAC,E,E,CANf,OEU8B,EFV9B,C,CAUX,IAAA,cAAA,MAAA,SAAY,CAAG,EACb,OAAO,EAAI,MAAM,CAAC,SAAC,CAAnB,EAA2B,OAAA,AAAQ,IAAR,C,EAC7B,C,E,CEDkB,AAZpB,SAA2B,CAAM,CAAE,CAAK,EACpC,IAAK,IAAI,EAAI,EAAG,EAAI,EAAM,MAAM,CAAE,IAAK,CACnC,IAAI,EAAa,CAAK,CAAC,EAAE,AACzB,CAAA,EAAW,UAAU,CAAG,EAAW,UAAU,EAAI,CAAA,EACjD,EAAW,YAAY,CAAG,CAAA,EAEtB,UAAW,GAAY,CAAA,EAAW,QAAQ,CAAG,CAAA,CAAjD,EAEA,OAAO,cAAc,CAAC,EAAQ,EAAW,GAAG,CAAE,EAClD,CACJ,EAEsC,AFXzB,EEWqC,SAAS,CAAE,GFXhD,C,G,EPGP,EAAQ,SAAS,aAAa,CAAC,UAC/B,EAAY,SAAS,gBAAgB,CAAC,cACtC,EAAY,SAAS,aAAa,CAAC,eACnC,EAAe,SAAS,aAAa,CAAC,kBACtC,EAAc,SAAS,aAAa,CAAC,WACrC,EAAS,SAAS,aAAa,CAAC,gBAEhC,EAAO,EAAK,IAAI,CAClB,EAAQ,EAAK,KAAK,CAElB,EAAY,EAAK,SAAS,CAE9B,SAAS,IACP,IAAK,IAAI,EAAM,EAAG,EAAM,EAAM,IAC5B,IAAK,IAAI,EAAO,EAAG,EAAO,EAAM,IAAQ,CACT,OAAzB,CAAS,CAAC,EAAI,CAAC,EAAK,EACtB,EAAO,SAAS,CAAC,MAAM,CAAC,UAG1B,IAAM,EAAe,CAAS,CAAC,EAAI,CAAC,QAAQ,CAAC,EAAK,CAC5C,EAAgB,EAAa,WAAW,CAC5C,CAAS,CAAC,EAAI,CAAC,EAAK,EAAI,EAE1B,CAAA,EAAa,SAAS,CAAG,EACrB,0BAAuC,MAAA,CAAb,GAC1B,YACN,CAGF,EAAU,SAAS,CAAG,CACxB,CAEA,SAAS,IACP,IAAM,EAAM,KAAK,KAAK,CAAC,KAAK,MAAM,GAAK,GACjC,EAAO,KAAK,KAAK,CAAC,KAAK,MAAM,GAAK,EAEpC,AAAyB,CAAA,IAAzB,CAAS,CAAC,EAAI,CAAC,EAAK,CACtB,CAAS,CAAC,EAAI,CAAC,EAAK,CAAG,AAAgB,GAAhB,KAAK,MAAM,GAAW,EAAI,EAEjD,GAEJ,CAEA,SAAS,IACP,IAAI,EAAY,CAAA,EACZ,EAAY,CAAA,EACZ,EAAS,CAAA,EAIb,GAFe,EAAU,KAAK,CAAC,SAAC,CAAhC,EAAsC,OAAA,EAAU,KAAK,CAAC,SAAC,CAAA,CAAG,CAApB,EAA0B,OAAA,CAAC,CAAC,EAAE,CAAG,C,E,GAE3D,CACV,EAAS,CAAA,EAET,IAAK,IAAI,EAAM,EAAG,EAAM,EAAG,IAGzB,IAAK,IAFC,EAAU,CAAS,CAAC,EAAI,CAErB,EAAO,EAAG,EAAO,EAAG,IACvB,CAAO,CAAC,EAAK,GAAK,CAAO,CAAC,EAAO,EAAE,EACrC,CAAA,EAAY,CAAA,CAFhB,EAOF,EAAY,EAAU,GAEtB,IAAK,IAAI,EAAM,EAAG,EAAM,EAAG,IAGzB,IAAK,IAFC,EAAU,CAAS,CAAC,EAAI,CAErB,EAAO,EAAG,EAAO,EAAG,IACvB,CAAO,CAAC,EAAK,GAAK,CAAO,CAAC,EAAO,EAAE,EACrC,CAAA,EAAY,CAAA,CAFhB,CAMJ,CAEK,GAAc,IAAa,GAC9B,EAAY,SAAS,CAAC,MAAM,CAAC,SAEjC,CAEA,SAAS,EAAU,CAAG,EACpB,OAAO,EAAI,GAAG,CAAC,SAAC,CAAA,CAAG,CAAnB,EAA6B,OAAA,EAAI,GAAG,CAAC,SAAC,CAAT,EAAiB,OAAA,CAAG,CAAC,EAAM,A,E,EAC1D,CAEA,SAAS,EAAW,CAAG,EAGrB,IAAK,IAFD,EAAQ,CAAA,EAEH,EAAI,EAAG,EAAI,EAAI,MAAM,CAAG,EAAG,IAC9B,CAAG,CAAC,EAAE,GAAK,CAAG,CAAC,EAAI,EAAE,EACvB,CAAG,CAAC,EAAE,EAAI,EACV,EAAI,MAAM,CAAC,EAAI,EAAG,GAClB,GAAS,CAAG,CAAC,EAAE,CACf,EAAQ,CAAA,GACY,IAAX,CAAG,CAAC,EAAE,EAAU,AAAe,IAAf,CAAG,CAAC,EAAI,EAAE,EACnC,CAAA,EAAQ,CAAA,CADV,EAKF,KAAO,EAAI,MAAM,CAAG,GAClB,EAAI,IAAI,CAAC,GAGX,MAAO,CACL,IAAA,EACA,MAAA,CACF,CACF,CAiHA,SAAS,EAAa,CAAC,EACrB,OAAQ,EAAE,GAAG,EACX,IAAK,aACH,AAlHN,WAGE,IAAK,IAFD,EAAW,CAAA,EAEN,EAAM,EAAG,EAAM,EAAM,IAAO,CACnC,IAAM,EAAiB,AAAA,EAAG,CAAS,CAAC,EAAI,EAClC,EAAa,EAAK,WAAW,CAAC,CAAS,CAAC,EAAI,EAC5C,EAAO,EAAW,EAExB,CAAA,CAAS,CAAC,EAAI,CAAG,EAGf,CAAA,EAAK,KAAK,EACV,KAAK,SAAS,CAAC,KAAmB,KAAK,SAAS,CAAC,EAAK,GAAG,CAAA,GAEzD,CAAA,EAAW,CAAA,CAJb,CAMF,CAEI,IACF,IACA,KAGF,GACF,IA2FM,KACF,KAAK,cACH,AA3FN,WAGE,IAAK,IAFD,EAAW,CAAA,EAEN,EAAM,EAAG,EAAM,EAAM,IAAO,CACnC,IAAM,EAAmB,AAAA,EAAG,CAAS,CAAC,EAAI,EAEpC,EAAS,EADI,EAAK,WAAW,CAAC,CAAS,CAAC,EAAI,CAAC,OAAO,IAG1D,CAAA,CAAS,CAAC,EAAI,CAAG,EAAO,GAAG,CAAC,OAAO,GAGjC,CAAA,EAAO,KAAK,EACZ,KAAK,SAAS,CAAC,KAAqB,KAAK,SAAS,CAAC,EAAO,GAAG,CAAA,GAE7D,CAAA,EAAW,CAAA,CAJb,CAMF,CAEI,IACF,IACA,KAEF,GACF,IAqEM,KACF,KAAK,WACH,AArEN,WACE,IAAI,EAAW,CAAA,EAEf,EAAY,EAAU,GAEtB,IAAK,IAAI,EAAM,EAAG,EAAM,EAAM,IAAO,CACnC,IAAM,EAAmB,AAAA,EAAG,CAAS,CAAC,EAAI,EAGpC,EAAS,EADI,EAAK,WAAW,CAAC,CAAS,CAAC,EAAI,EAGlD,CAAA,CAAS,CAAC,EAAI,CAAG,EAAO,GAAG,CAGzB,CAAA,EAAO,KAAK,EACZ,KAAK,SAAS,CAAC,KAAqB,KAAK,SAAS,CAAC,EAAO,GAAG,CAAA,GAE7D,CAAA,EAAW,CAAA,CAJb,CAMF,CAEA,EAAY,EAAU,GAElB,IACF,IACA,KAGF,GACF,IAyCM,KACF,KAAK,aACH,AAzCN,WACE,IAAI,EAAW,CAAA,EAEf,EAAY,EAAU,GAEtB,IAAK,IAAI,EAAM,EAAG,EAAM,EAAM,IAAO,CACnC,IAAM,EAAe,AAAA,EAAG,CAAS,CAAC,EAAI,EAEhC,EAAS,EADI,EAAK,WAAW,CAAC,CAAS,CAAC,EAAI,CAAC,OAAO,IAG1D,CAAA,CAAS,CAAC,EAAI,CAAG,EAAO,GAAG,CAAC,OAAO,GAGjC,CAAA,EAAO,KAAK,EACZ,KAAK,SAAS,CAAC,KAAiB,KAAK,SAAS,CAAC,EAAO,GAAG,CAAA,GAEzD,CAAA,EAAW,CAAA,CAJb,CAMF,CAEA,EAAY,EAAU,GAElB,IACF,IACA,KAEF,GACF,GAkBE,CACF,CAEA,EAAM,gBAAgB,CAAC,QAAS,WAC9B,SAAS,gBAAgB,CAAC,UAAW,GACrC,EAAa,MAAM,CAAG,CAAA,EAElB,AAAoB,UAApB,EAAM,SAAS,EACjB,EAAM,SAAS,CAAG,UAClB,EAAM,SAAS,CAAC,OAAO,CAAC,QAAS,aAEjC,EAAY,SAAS,CAAC,GAAG,CAAC,UAE1B,EAAY,CACV,CAAC,EAAG,EAAG,EAAG,EAAE,CACZ,CAAC,EAAG,EAAG,EAAG,EAAE,CACZ,CAAC,EAAG,EAAG,EAAG,EAAE,CACZ,CAAC,EAAG,EAAG,EAAG,EAAE,CACb,EAEH,IACA,IACA,GACF,E","sources":["<anon>","src/scripts/main.js","node_modules/@swc/helpers/esm/_to_consumable_array.js","node_modules/@swc/helpers/esm/_array_without_holes.js","node_modules/@swc/helpers/esm/_array_like_to_array.js","node_modules/@swc/helpers/esm/_iterable_to_array.js","node_modules/@swc/helpers/esm/_non_iterable_spread.js","node_modules/@swc/helpers/esm/_unsupported_iterable_to_array.js","src/scripts/Game2048.js","node_modules/@swc/helpers/esm/_class_call_check.js","node_modules/@swc/helpers/esm/_create_class.js"],"sourcesContent":["(function () {\nfunction $c3b10a83b523f372$export$79e617b1955a2616(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];\n    return arr2;\n}\n\n\nfunction $c50969dc1df61e8b$export$7e0947b5ad3404e2(arr) {\n    if (Array.isArray(arr)) return (0, $c3b10a83b523f372$export$79e617b1955a2616)(arr);\n}\n\n\nfunction $09c9f293d010c0e1$export$1eb58a6e75231000(iter) {\n    if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\n\nfunction $38c2d4931cb7a7c4$export$e6f3c4780d19eb2b() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\n\n\nfunction $d4f69c5c6c4654b1$export$a5be06335b3a083c(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return (0, $c3b10a83b523f372$export$79e617b1955a2616)(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(n);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return (0, $c3b10a83b523f372$export$79e617b1955a2616)(o, minLen);\n}\n\n\nfunction $227c6742e0ff6f82$export$1b5e630bc3aea29f(arr) {\n    return (0, $c50969dc1df61e8b$export$7e0947b5ad3404e2)(arr) || (0, $09c9f293d010c0e1$export$1eb58a6e75231000)(arr) || (0, $d4f69c5c6c4654b1$export$a5be06335b3a083c)(arr) || (0, $38c2d4931cb7a7c4$export$e6f3c4780d19eb2b)();\n}\n\n\n/* eslint-disable function-paren-newline */ function $8713978b2328d32b$export$2996f80ef42b8419(instance, Constructor) {\n    if (!(instance instanceof Constructor)) throw new TypeError(\"Cannot call a class as a function\");\n}\n\n\nfunction $4fc75ccb937ab1df$var$_defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\nfunction $4fc75ccb937ab1df$export$d60067ff2358eee8(Constructor, protoProps, staticProps) {\n    if (protoProps) $4fc75ccb937ab1df$var$_defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) $4fc75ccb937ab1df$var$_defineProperties(Constructor, staticProps);\n    return Constructor;\n}\n\n\nvar $0696830c520502d8$export$97f0fb808b782731 = /*#__PURE__*/ function() {\n    \"use strict\";\n    function Game2048() {\n        var size = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 4;\n        var _this = this;\n        (0, $8713978b2328d32b$export$2996f80ef42b8419)(this, Game2048);\n        this.size = size;\n        this.score = 0;\n        this.gameField = Array.from({\n            length: this.size\n        }, function() {\n            return Array(_this.size).fill(0);\n        });\n    }\n    (0, $4fc75ccb937ab1df$export$d60067ff2358eee8)(Game2048, [\n        {\n            key: \"removeZeros\",\n            value: function removeZeros(arr) {\n                return arr.filter(function(row) {\n                    return row !== 0;\n                });\n            }\n        }\n    ]);\n    return Game2048;\n}();\n\n\nvar $197cd56b15c33885$var$game = new (0, $0696830c520502d8$export$97f0fb808b782731)();\nvar $197cd56b15c33885$var$start = document.querySelector(\".start\");\nvar $197cd56b15c33885$var$fieldHtml = document.querySelectorAll(\".field-row\");\nvar $197cd56b15c33885$var$gameScore = document.querySelector(\".game-score\");\nvar $197cd56b15c33885$var$startMessage = document.querySelector(\".message-start\");\nvar $197cd56b15c33885$var$loseMessage = document.querySelector(\".hidden\");\nvar $197cd56b15c33885$var$winner = document.querySelector(\".message-win\");\nvar $197cd56b15c33885$var$size = $197cd56b15c33885$var$game.size;\nvar $197cd56b15c33885$var$score = $197cd56b15c33885$var$game.score;\nvar $197cd56b15c33885$var$gameField = $197cd56b15c33885$var$game.gameField;\nfunction $197cd56b15c33885$var$addLayoutOnHtml() {\n    for(var row = 0; row < $197cd56b15c33885$var$size; row++)for(var cell = 0; cell < $197cd56b15c33885$var$size; cell++){\n        if ($197cd56b15c33885$var$gameField[row][cell] === 2048) $197cd56b15c33885$var$winner.classList.remove(\"hidden\");\n        var setFieldHtml = $197cd56b15c33885$var$fieldHtml[row].children[cell];\n        var currentValue = setFieldHtml.textContent = $197cd56b15c33885$var$gameField[row][cell] || \"\";\n        setFieldHtml.className = currentValue ? \"field-cell field-cell--\".concat(currentValue) : \"field-cell\";\n    }\n    $197cd56b15c33885$var$gameScore.innerText = $197cd56b15c33885$var$score;\n}\nfunction $197cd56b15c33885$var$addRandomNumber() {\n    var row = Math.floor(Math.random() * $197cd56b15c33885$var$size);\n    var cell = Math.floor(Math.random() * $197cd56b15c33885$var$size);\n    if ($197cd56b15c33885$var$gameField[row][cell] === 0) $197cd56b15c33885$var$gameField[row][cell] = Math.random() < 0.1 ? 4 : 2;\n    else $197cd56b15c33885$var$addRandomNumber();\n}\nfunction $197cd56b15c33885$var$checkGameOver() {\n    var hasMoveRL = false;\n    var hasMoveUD = false;\n    var comeIn = false;\n    var result = $197cd56b15c33885$var$gameField.every(function(r) {\n        return $197cd56b15c33885$var$gameField.every(function(_, i) {\n            return r[i] > 0;\n        });\n    });\n    if (result) {\n        comeIn = true;\n        for(var row = 0; row < 4; row++){\n            var eachRow = $197cd56b15c33885$var$gameField[row];\n            for(var cell = 0; cell < 4; cell++)if (eachRow[cell] === eachRow[cell + 1]) hasMoveRL = true;\n        }\n        $197cd56b15c33885$var$gameField = $197cd56b15c33885$var$transpose($197cd56b15c33885$var$gameField);\n        for(var row1 = 0; row1 < 4; row1++){\n            var eachRow1 = $197cd56b15c33885$var$gameField[row1];\n            for(var cell1 = 0; cell1 < 4; cell1++)if (eachRow1[cell1] === eachRow1[cell1 + 1]) hasMoveUD = true;\n        }\n    }\n    if (!hasMoveRL && !hasMoveUD && comeIn) $197cd56b15c33885$var$loseMessage.classList.remove(\"hidden\");\n}\nfunction $197cd56b15c33885$var$transpose(arr) {\n    return arr.map(function(_, index) {\n        return arr.map(function(row) {\n            return row[index];\n        });\n    });\n}\nfunction $197cd56b15c33885$var$uniteCells(row) {\n    var moved = false;\n    for(var i = 0; i < row.length - 1; i++){\n        if (row[i] === row[i + 1]) {\n            row[i] *= 2;\n            row.splice(i + 1, 1);\n            $197cd56b15c33885$var$score += row[i];\n            moved = true;\n        } else if (row[i] === 0 && row[i + 1] === 0) moved = false;\n    }\n    while(row.length < $197cd56b15c33885$var$size)row.push(0);\n    return {\n        row: row,\n        moved: moved\n    };\n}\nfunction $197cd56b15c33885$var$clickArrowLeft() {\n    var hasMoved = false;\n    for(var row = 0; row < $197cd56b15c33885$var$size; row++){\n        var copyGameField = (0, $227c6742e0ff6f82$export$1b5e630bc3aea29f)($197cd56b15c33885$var$gameField[row]);\n        var removeZero = $197cd56b15c33885$var$game.removeZeros($197cd56b15c33885$var$gameField[row]);\n        var move = $197cd56b15c33885$var$uniteCells(removeZero);\n        $197cd56b15c33885$var$gameField[row] = removeZero;\n        if (move.moved || JSON.stringify(copyGameField) !== JSON.stringify(move.row)) hasMoved = true;\n    }\n    if (hasMoved) {\n        $197cd56b15c33885$var$addRandomNumber();\n        $197cd56b15c33885$var$checkGameOver();\n    }\n    $197cd56b15c33885$var$addLayoutOnHtml();\n}\nfunction $197cd56b15c33885$var$clickArrowRight() {\n    var hasMoved = false;\n    for(var row = 0; row < $197cd56b15c33885$var$size; row++){\n        var copyOfGameField = (0, $227c6742e0ff6f82$export$1b5e630bc3aea29f)($197cd56b15c33885$var$gameField[row]);\n        var removeZero = $197cd56b15c33885$var$game.removeZeros($197cd56b15c33885$var$gameField[row].reverse());\n        var newRow = $197cd56b15c33885$var$uniteCells(removeZero);\n        $197cd56b15c33885$var$gameField[row] = newRow.row.reverse();\n        if (newRow.moved || JSON.stringify(copyOfGameField) !== JSON.stringify(newRow.row)) hasMoved = true;\n    }\n    if (hasMoved) {\n        $197cd56b15c33885$var$addRandomNumber();\n        $197cd56b15c33885$var$checkGameOver();\n    }\n    $197cd56b15c33885$var$addLayoutOnHtml();\n}\nfunction $197cd56b15c33885$var$clickArrowUp() {\n    var hasMoved = false;\n    $197cd56b15c33885$var$gameField = $197cd56b15c33885$var$transpose($197cd56b15c33885$var$gameField);\n    for(var row = 0; row < $197cd56b15c33885$var$size; row++){\n        var copyOfGameField = (0, $227c6742e0ff6f82$export$1b5e630bc3aea29f)($197cd56b15c33885$var$gameField[row]);\n        var removeZero = $197cd56b15c33885$var$game.removeZeros($197cd56b15c33885$var$gameField[row]);\n        var newRow = $197cd56b15c33885$var$uniteCells(removeZero);\n        $197cd56b15c33885$var$gameField[row] = newRow.row;\n        if (newRow.moved || JSON.stringify(copyOfGameField) !== JSON.stringify(newRow.row)) hasMoved = true;\n    }\n    $197cd56b15c33885$var$gameField = $197cd56b15c33885$var$transpose($197cd56b15c33885$var$gameField);\n    if (hasMoved) {\n        $197cd56b15c33885$var$addRandomNumber();\n        $197cd56b15c33885$var$checkGameOver();\n    }\n    $197cd56b15c33885$var$addLayoutOnHtml();\n}\nfunction $197cd56b15c33885$var$clickArrowDown() {\n    var hasMoved = false;\n    $197cd56b15c33885$var$gameField = $197cd56b15c33885$var$transpose($197cd56b15c33885$var$gameField);\n    for(var row = 0; row < $197cd56b15c33885$var$size; row++){\n        var copyOfField = (0, $227c6742e0ff6f82$export$1b5e630bc3aea29f)($197cd56b15c33885$var$gameField[row]);\n        var removeZero = $197cd56b15c33885$var$game.removeZeros($197cd56b15c33885$var$gameField[row].reverse());\n        var newRow = $197cd56b15c33885$var$uniteCells(removeZero);\n        $197cd56b15c33885$var$gameField[row] = newRow.row.reverse();\n        if (newRow.moved || JSON.stringify(copyOfField) !== JSON.stringify(newRow.row)) hasMoved = true;\n    }\n    $197cd56b15c33885$var$gameField = $197cd56b15c33885$var$transpose($197cd56b15c33885$var$gameField);\n    if (hasMoved) {\n        $197cd56b15c33885$var$addRandomNumber();\n        $197cd56b15c33885$var$checkGameOver();\n    }\n    $197cd56b15c33885$var$addLayoutOnHtml();\n}\nfunction $197cd56b15c33885$var$handleArrows(e) {\n    switch(e.key){\n        case \"ArrowLeft\":\n            $197cd56b15c33885$var$clickArrowLeft();\n            break;\n        case \"ArrowRight\":\n            $197cd56b15c33885$var$clickArrowRight();\n            break;\n        case \"ArrowUp\":\n            $197cd56b15c33885$var$clickArrowUp();\n            break;\n        case \"ArrowDown\":\n            $197cd56b15c33885$var$clickArrowDown();\n            break;\n        default:\n            break;\n    }\n}\n$197cd56b15c33885$var$start.addEventListener(\"click\", function() {\n    document.addEventListener(\"keydown\", $197cd56b15c33885$var$handleArrows);\n    $197cd56b15c33885$var$startMessage.hidden = true;\n    if ($197cd56b15c33885$var$start.innerText === \"Start\") {\n        $197cd56b15c33885$var$start.innerText = \"Restart\";\n        $197cd56b15c33885$var$start.classList.replace(\"start\", \"restart\");\n    } else {\n        $197cd56b15c33885$var$loseMessage.classList.add(\"hidden\");\n        $197cd56b15c33885$var$gameField = [\n            [\n                0,\n                0,\n                0,\n                0\n            ],\n            [\n                0,\n                0,\n                0,\n                0\n            ],\n            [\n                0,\n                0,\n                0,\n                0\n            ],\n            [\n                0,\n                0,\n                0,\n                0\n            ]\n        ];\n    }\n    $197cd56b15c33885$var$addRandomNumber();\n    $197cd56b15c33885$var$addRandomNumber();\n    $197cd56b15c33885$var$addLayoutOnHtml();\n});\n\n})();\n//# sourceMappingURL=index.59b3a1cb.js.map\n","import { Game2048 } from \"./Game2048.js\";\n\nconst game = new Game2048();\n\nconst start = document.querySelector(\".start\");\nconst fieldHtml = document.querySelectorAll(\".field-row\");\nconst gameScore = document.querySelector(\".game-score\");\nconst startMessage = document.querySelector(\".message-start\");\nconst loseMessage = document.querySelector(\".hidden\");\nconst winner = document.querySelector(\".message-win\");\n\nconst size = game.size;\nlet score = game.score;\n\nlet gameField = game.gameField;\n\nfunction addLayoutOnHtml() {\n  for (let row = 0; row < size; row++) {\n    for (let cell = 0; cell < size; cell++) {\n      if (gameField[row][cell] === 2048) {\n        winner.classList.remove(\"hidden\");\n      }\n\n      const setFieldHtml = fieldHtml[row].children[cell];\n      const currentValue = (setFieldHtml.textContent =\n        gameField[row][cell] || \"\");\n\n      setFieldHtml.className = currentValue\n        ? `field-cell field-cell--${currentValue}`\n        : \"field-cell\";\n    }\n  }\n\n  gameScore.innerText = score;\n}\n\nfunction addRandomNumber() {\n  const row = Math.floor(Math.random() * size);\n  const cell = Math.floor(Math.random() * size);\n\n  if (gameField[row][cell] === 0) {\n    gameField[row][cell] = Math.random() < 0.1 ? 4 : 2;\n  } else {\n    addRandomNumber();\n  }\n}\n\nfunction checkGameOver() {\n  let hasMoveRL = false;\n  let hasMoveUD = false;\n  let comeIn = false;\n\n  const result = gameField.every((r) => gameField.every((_, i) => r[i] > 0));\n\n  if (result) {\n    comeIn = true;\n\n    for (let row = 0; row < 4; row++) {\n      const eachRow = gameField[row];\n\n      for (let cell = 0; cell < 4; cell++) {\n        if (eachRow[cell] === eachRow[cell + 1]) {\n          hasMoveRL = true;\n        }\n      }\n    }\n\n    gameField = transpose(gameField);\n\n    for (let row = 0; row < 4; row++) {\n      const eachRow = gameField[row];\n\n      for (let cell = 0; cell < 4; cell++) {\n        if (eachRow[cell] === eachRow[cell + 1]) {\n          hasMoveUD = true;\n        }\n      }\n    }\n  }\n\n  if (!hasMoveRL && !hasMoveUD && comeIn) {\n    loseMessage.classList.remove(\"hidden\");\n  }\n}\n\nfunction transpose(arr) {\n  return arr.map((_, index) => arr.map((row) => row[index]));\n}\n\nfunction uniteCells(row) {\n  let moved = false;\n\n  for (let i = 0; i < row.length - 1; i++) {\n    if (row[i] === row[i + 1]) {\n      row[i] *= 2;\n      row.splice(i + 1, 1);\n      score += row[i];\n      moved = true;\n    } else if (row[i] === 0 && row[i + 1] === 0) {\n      moved = false;\n    }\n  }\n\n  while (row.length < size) {\n    row.push(0);\n  }\n\n  return {\n    row,\n    moved,\n  };\n}\n\nfunction clickArrowLeft() {\n  let hasMoved = false;\n\n  for (let row = 0; row < size; row++) {\n    const copyGameField = [...gameField[row]];\n    const removeZero = game.removeZeros(gameField[row]);\n    const move = uniteCells(removeZero);\n\n    gameField[row] = removeZero;\n\n    if (\n      move.moved ||\n      JSON.stringify(copyGameField) !== JSON.stringify(move.row)\n    ) {\n      hasMoved = true;\n    }\n  }\n\n  if (hasMoved) {\n    addRandomNumber();\n    checkGameOver();\n  }\n\n  addLayoutOnHtml();\n}\n\nfunction clickArrowRight() {\n  let hasMoved = false;\n\n  for (let row = 0; row < size; row++) {\n    const copyOfGameField = [...gameField[row]];\n    const removeZero = game.removeZeros(gameField[row].reverse());\n    const newRow = uniteCells(removeZero);\n\n    gameField[row] = newRow.row.reverse();\n\n    if (\n      newRow.moved ||\n      JSON.stringify(copyOfGameField) !== JSON.stringify(newRow.row)\n    ) {\n      hasMoved = true;\n    }\n  }\n\n  if (hasMoved) {\n    addRandomNumber();\n    checkGameOver();\n  }\n  addLayoutOnHtml();\n}\n\nfunction clickArrowUp() {\n  let hasMoved = false;\n\n  gameField = transpose(gameField);\n\n  for (let row = 0; row < size; row++) {\n    const copyOfGameField = [...gameField[row]];\n\n    const removeZero = game.removeZeros(gameField[row]);\n    const newRow = uniteCells(removeZero);\n\n    gameField[row] = newRow.row;\n\n    if (\n      newRow.moved ||\n      JSON.stringify(copyOfGameField) !== JSON.stringify(newRow.row)\n    ) {\n      hasMoved = true;\n    }\n  }\n\n  gameField = transpose(gameField);\n\n  if (hasMoved) {\n    addRandomNumber();\n    checkGameOver();\n  }\n\n  addLayoutOnHtml();\n}\n\nfunction clickArrowDown() {\n  let hasMoved = false;\n\n  gameField = transpose(gameField);\n\n  for (let row = 0; row < size; row++) {\n    const copyOfField = [...gameField[row]];\n    const removeZero = game.removeZeros(gameField[row].reverse());\n    const newRow = uniteCells(removeZero);\n\n    gameField[row] = newRow.row.reverse();\n\n    if (\n      newRow.moved ||\n      JSON.stringify(copyOfField) !== JSON.stringify(newRow.row)\n    ) {\n      hasMoved = true;\n    }\n  }\n\n  gameField = transpose(gameField);\n\n  if (hasMoved) {\n    addRandomNumber();\n    checkGameOver();\n  }\n  addLayoutOnHtml();\n}\n\nfunction handleArrows(e) {\n  switch (e.key) {\n    case \"ArrowLeft\":\n      clickArrowLeft();\n      break;\n    case \"ArrowRight\":\n      clickArrowRight();\n      break;\n    case \"ArrowUp\":\n      clickArrowUp();\n      break;\n    case \"ArrowDown\":\n      clickArrowDown();\n      break;\n    default:\n      break;\n  }\n}\n\nstart.addEventListener(\"click\", () => {\n  document.addEventListener(\"keydown\", handleArrows);\n  startMessage.hidden = true;\n\n  if (start.innerText === \"Start\") {\n    start.innerText = \"Restart\";\n    start.classList.replace(\"start\", \"restart\");\n  } else {\n    loseMessage.classList.add(\"hidden\");\n\n    gameField = [\n      [0, 0, 0, 0],\n      [0, 0, 0, 0],\n      [0, 0, 0, 0],\n      [0, 0, 0, 0],\n    ];\n  }\n  addRandomNumber();\n  addRandomNumber();\n  addLayoutOnHtml();\n});\n","import { _array_without_holes } from \"./_array_without_holes.js\";\nimport { _iterable_to_array } from \"./_iterable_to_array.js\";\nimport { _non_iterable_spread } from \"./_non_iterable_spread.js\";\nimport { _unsupported_iterable_to_array } from \"./_unsupported_iterable_to_array.js\";\n\nexport function _to_consumable_array(arr) {\n    return _array_without_holes(arr) || _iterable_to_array(arr) || _unsupported_iterable_to_array(arr) || _non_iterable_spread();\n}\nexport { _to_consumable_array as _ };\n","import { _array_like_to_array } from \"./_array_like_to_array.js\";\n\nexport function _array_without_holes(arr) {\n    if (Array.isArray(arr)) return _array_like_to_array(arr);\n}\nexport { _array_without_holes as _ };\n","export function _array_like_to_array(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n\n    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n    return arr2;\n}\nexport { _array_like_to_array as _ };\n","export function _iterable_to_array(iter) {\n    if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) {\n        return Array.from(iter);\n    }\n}\nexport { _iterable_to_array as _ };\n","export function _non_iterable_spread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nexport { _non_iterable_spread as _ };\n","import { _array_like_to_array } from \"./_array_like_to_array.js\";\n\nexport function _unsupported_iterable_to_array(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _array_like_to_array(o, minLen);\n\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(n);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _array_like_to_array(o, minLen);\n}\nexport { _unsupported_iterable_to_array as _ };\n","/* eslint-disable function-paren-newline */\nexport class Game2048 {\n  constructor(size = 4) {\n    this.size = size;\n    this.score = 0;\n\n    this.gameField = Array.from({ length: this.size }, () =>\n      Array(this.size).fill(0),\n    );\n  }\n\n  removeZeros(arr) {\n    return arr.filter((row) => row !== 0);\n  }\n}\n","export function _class_call_check(instance, Constructor) {\n    if (!(instance instanceof Constructor)) throw new TypeError(\"Cannot call a class as a function\");\n}\nexport { _class_call_check as _ };\n","function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n\n        if (\"value\" in descriptor) descriptor.writable = true;\n\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\nexport function _create_class(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n\n    return Constructor;\n}\nexport { _create_class as _ };\n"],"names":["$c3b10a83b523f372$export$79e617b1955a2616","arr","len","length","i","arr2","Array","$227c6742e0ff6f82$export$1b5e630bc3aea29f","isArray","iter","Symbol","iterator","from","o","minLen","n","Object","prototype","toString","call","slice","constructor","name","test","TypeError","$197cd56b15c33885$var$game","protoProps","Game2048","size","arguments","_this","instance","Constructor","score","gameField","fill","key","value","filter","row","$4fc75ccb937ab1df$var$_defineProperties","target","props","descriptor","enumerable","configurable","writable","defineProperty","$197cd56b15c33885$var$start","document","querySelector","$197cd56b15c33885$var$fieldHtml","querySelectorAll","$197cd56b15c33885$var$gameScore","$197cd56b15c33885$var$startMessage","$197cd56b15c33885$var$loseMessage","$197cd56b15c33885$var$winner","$197cd56b15c33885$var$size","$197cd56b15c33885$var$score","$197cd56b15c33885$var$gameField","$197cd56b15c33885$var$addLayoutOnHtml","cell","classList","remove","setFieldHtml","children","currentValue","textContent","className","concat","innerText","$197cd56b15c33885$var$addRandomNumber","Math","floor","random","$197cd56b15c33885$var$checkGameOver","hasMoveRL","hasMoveUD","comeIn","every","r","_","eachRow","$197cd56b15c33885$var$transpose","row1","eachRow1","cell1","map","index","$197cd56b15c33885$var$uniteCells","moved","splice","push","$197cd56b15c33885$var$handleArrows","e","$197cd56b15c33885$var$clickArrowLeft","hasMoved","copyGameField","removeZero","removeZeros","move","JSON","stringify","$197cd56b15c33885$var$clickArrowRight","copyOfGameField","newRow","reverse","$197cd56b15c33885$var$clickArrowUp","$197cd56b15c33885$var$clickArrowDown","copyOfField","addEventListener","hidden","replace","add"],"version":3,"file":"index.59b3a1cb.js.map"}